<!DOCTYPE html>
<html dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" data-translate-meta-description="metaDescriptionContent" content="Download music and audio from YouTube videos and playlists in MP3 or WAV format.">
    <meta name="theme-color" content="#0f172a">
    <title>YouTube Music Downloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #0f172a; 
            overflow-x: hidden;
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: relative; 
        }
        body:lang(ar) {
            font-family: 'Tajawal', sans-serif;
        }

        .night-sky-bg-main {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0b1021, #111827, #1e293b);
            background-size: 300% 300%;
            animation: gradientBGMain 30s ease infinite;
            z-index: -2; 
            overflow: hidden;
        }
        @keyframes gradientBGMain {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .star-main {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: twinkleMain 3s infinite ease-in-out;
            box-shadow: 0 0 3px rgba(255, 255, 255, 0.5), 0 0 6px rgba(255, 255, 255, 0.3);
        }
        @keyframes twinkleMain {
            0%, 100% { opacity: 0.4; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        .moon-main {
            position: absolute;
            width: 100px; 
            height: 100px;
            background-color: #f0f8ff; 
            border-radius: 50%;
            box-shadow: 0 0 25px #f0f8ff, 0 0 40px #add8e6, 0 0 60px #87cefa; 
            top: 10%;
            left: 15%; 
            animation: gentleDriftMain 15s ease-in-out infinite alternate, moonPhase 60s linear infinite;
            opacity: 0; 
            animation-fill-mode: forwards; 
            animation-name: gentleDriftMain, moonPhase, fadeInMoon;
            animation-duration: 15s, 60s, 2s;
            animation-timing-function: ease-in-out, linear, ease-out;
            animation-iteration-count: infinite, infinite, 1;
            animation-direction: alternate, normal, normal;
            animation-delay: 0s, 0s, 0.5s; 
        }
         @keyframes fadeInMoon {
            to { opacity: 0.85; }
        }
        @keyframes gentleDriftMain {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(20px, 10px) scale(1.05); }
            100% { transform: translate(0, 0) scale(1); }
        }
        @keyframes moonPhase { 
            0% { box-shadow: 0 0 25px #f0f8ff, 0 0 40px #add8e6, 0 0 60px #87cefa, inset -10px 0 15px rgba(0,0,0,0.1); }
            50% { box-shadow: 0 0 25px #f0f8ff, 0 0 40px #add8e6, 0 0 60px #87cefa, inset 5px 0 15px rgba(0,0,0,0.05); }
            100% { box-shadow: 0 0 25px #f0f8ff, 0 0 40px #add8e6, 0 0 60px #87cefa, inset -10px 0 15px rgba(0,0,0,0.1); }
        }

        .app-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 1rem;
            z-index: 1;
            min-height: calc(100vh - 80px); 
        }
        
        .tab-navigation {
            margin-bottom: 2rem;
            display: flex;
            gap: 1rem;
            z-index: 10; 
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            background-color: rgba(51, 65, 85, 0.7); 
            color: #cbd5e1; 
            border: 2px solid transparent;
            border-radius: 0.75rem; 
            font-weight: 600; 
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(5px);
        }
        .tab-button.active, .tab-button:hover {
            background-color: rgba(14, 165, 233, 0.8); 
            color: white;
            border-color: #0ea5e9; 
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
        }

        .tab-content {
            display: none; 
            width: 100%;
            max-width: 580px; 
            animation: fadeInContent 0.6s ease-out forwards;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }


        .main-card, .info-card { 
            background-color: rgba(30, 41, 59, 0.88); 
            backdrop-filter: blur(10px);
            padding: 2rem 2.5rem; 
            border-radius: 1.5rem; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.45);
            width: 100%;
        }
        
        .info-card h2 {
            font-size: 1.875rem; 
            font-weight: 700; 
            color: #38bdf8; 
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .info-card h3 {
            font-size: 1.25rem; 
            font-weight: 600; 
            color: #93c5fd; 
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid rgba(71, 85, 105, 0.5); 
            padding-bottom: 0.5rem;
        }
        .info-card p, .info-card li {
            color: #cbd5e1; 
            line-height: 1.7;
            margin-bottom: 0.5rem;
        }
        .info-card ul {
            list-style: disc;
            padding-left: 1.5rem;
        }
        .info-card code {
            background-color: rgba(51, 65, 85, 0.7); 
            padding: 0.1rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            color: #e2e8f0; 
        }


        .loader { border-top-color: #0ea5e9; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .lang-switcher-container { position: fixed; top: 1.5rem; right: 1.5rem; z-index: 50; }
        .lang-switcher-container select { padding: 0.6rem 1rem; border-radius: 0.5rem; border: 1px solid rgb(71 85 105 / 0.7); background-color: rgb(30 41 59 / 0.85); backdrop-filter: blur(6px); color: white; font-size: 0.875rem; transition: all 0.2s ease-in-out; }
        .lang-switcher-container select:hover { border-color: #0ea5e9; background-color: rgb(51 65 85 / 0.9); }
        #statusArea ul::-webkit-scrollbar { width: 8px; }
        #statusArea ul::-webkit-scrollbar-track { background: rgb(51 65 85); border-radius: 10px; }
        #statusArea ul::-webkit-scrollbar-thumb { background: rgb(71 85 105); border-radius: 10px; }
        #statusArea ul::-webkit-scrollbar-thumb:hover { background: #0ea5e9; }

        input[type="url"]:focus, select:focus { box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.5); border-color: #0ea5e9 !important; }
        .submit-button { transition: all 0.3s ease-out; }
        .submit-button:hover { transform: translateY(-3px) scale(1.03); box-shadow: 0 12px 25px rgba(14, 165, 233, 0.25), 0 8px 10px rgba(14, 165, 233, 0.22); }
        .submit-button:active { transform: translateY(-1px) scale(0.99); box-shadow: 0 5px 10px rgba(14, 165, 233, 0.2), 0 2px 4px rgba(14, 165, 233, 0.18); }
        .status-message-item { opacity: 0; transform: translateY(10px); animation: fadeInItem 0.5s ease-out forwards; }
        @keyframes fadeInItem { to { opacity: 1; transform: translateY(0); } }
        .music-icon-animated svg line { stroke-dasharray: 50; stroke-dashoffset: 50; animation: drawLine 1.5s ease-out forwards infinite alternate; }
        .music-icon-animated svg line:nth-child(1) { animation-delay: 0s; }
        .music-icon-animated svg line:nth-child(2) { animation-delay: 0.2s; }
        .music-icon-animated svg line:nth-child(3) { animation-delay: 0.4s; }
        .music-icon-animated svg line:nth-child(4) { animation-delay: 0.6s; }
        .music-icon-animated svg line:nth-child(5) { animation-delay: 0.8s; }
        .music-icon-animated svg line:nth-child(6) { animation-delay: 1.0s; }
        @keyframes drawLine { 50% { stroke-dashoffset: 0; } 100% { stroke-dashoffset: 0; transform: scaleY(0.3); } }
        
        .main-card .text-center, .main-card form > div, .main-card .submit-button {
            opacity: 0;
            transform: translateY(15px);
            animation: formItemEnter 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        .main-card .text-center { animation-delay: 0.1s; }
        .main-card form > div:nth-child(1) { animation-delay: 0.2s; } 
        .main-card form > div:nth-child(2) { animation-delay: 0.3s; } 
        .main-card .submit-button { animation-delay: 0.4s; }       

        @keyframes formItemEnter {
            to { opacity: 1; transform: translateY(0); }
        }
        .app-footer {
            opacity: 0;
            animation: fadeInFooter 1s 0.5s ease-out forwards; 
        }
        @keyframes fadeInFooter {
            to { opacity: 1; }
        }
        .file-download-status {
            font-size: 0.75rem; 
            color: #94a3b8; 
            margin-left: 0.5rem; 
        }
        .file-download-status.downloading { color: #38bdf8; }
        .file-download-status.completed { color: #22c55e; }
        .telegram-link-container { margin-top: 0.75rem; font-size: 0.875rem; color: #94a3b8; }
        .telegram-link-container a { color: #38bdf8; text-decoration: underline; }
        .telegram-link-container a:hover { color: #7dd3fc; }

        #infoSection {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(15, 23, 42, 0.92); 
            backdrop-filter: blur(15px); 
            z-index: 100; 
            display: none; 
            opacity: 0;
            transition: opacity 0.4s ease-out;
            padding: 2rem;
            overflow-y: auto; 
        }
        #infoSection.visible {
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; 
            opacity: 1;
        }
        .info-content-card {
            background-color: rgba(30, 41, 59, 0.9); 
            padding: 2rem 2.5rem;
            border-radius: 1.25rem;
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            max-width: 700px; 
            width: 90%;
            color: #e2e8f0; 
            margin-top: 3rem; 
        }
        .info-content-card h2 {
            font-size: 1.875rem; 
            font-weight: 700; 
            color: #38bdf8; 
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .info-content-card h3 {
            font-size: 1.25rem; 
            font-weight: 600; 
            color: #7dd3fc; 
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid rgb(71 85 105 / 0.5);
            padding-bottom: 0.5rem;
        }
        .info-content-card p, .info-content-card li {
            font-size: 1rem; 
            line-height: 1.7;
            margin-bottom: 0.75rem;
        }
        .info-content-card ul {
            list-style: disc;
            padding-left: 1.5rem;
        }
        .info-content-card code {
            background-color: rgb(51 65 85 / 0.7); 
            padding: 0.1rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            color: #f0f0f0;
        }
        .close-info-button {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: #cbd5e1; 
            font-size: 2.5rem; 
            cursor: pointer;
            line-height: 1;
            transition: color 0.2s ease;
        }
        .close-info-button:hover {
            color: #f87171; 
        }

    </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center justify-center p-4 selection:bg-sky-500 selection:text-white">

    <div class="night-sky-bg-main">
        <div class="moon-main"></div>
    </div>

    <div class="top-nav-container">
        <button id="infoButton" class="nav-button" data-translate-key="navInfoButton">Info</button>
        <div class="lang-switcher-container" style="position: static;"> <label for="languageSelector" class="sr-only" data-translate-key="languageLabel">Language:</label>
            <select id="languageSelector" title="Select Language">
                <option value="en">English</option>
                <option value="ru">Русский</option>
                <option value="es">Español</option>
                <option value="az">Azərbaycanca</option>
                <option value="tr">Türkçe</option>
                <option value="ar">العربية</option>
            </select>
        </div>
    </div>


    <div class="app-container">
        <div class="tab-navigation">
        </div>

        <div id="downloaderContent" class="tab-content active">
            <div class="main-card">
                <div class="text-center mb-8 sm:mb-10">
                    <div class="music-icon-animated inline-block mb-4">
                        <svg width="60" height="50" viewBox="0 0 60 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <line x1="5" y1="45" x2="5" y2="5" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                            <line x1="15" y1="45" x2="15" y2="15" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                            <line x1="25" y1="45" x2="25" y2="25" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                            <line x1="35" y1="45" x2="35" y2="10" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                            <line x1="45" y1="45" x2="45" y2="20" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                            <line x1="55" y1="45" x2="55" y2="30" stroke="#0ea5e9" stroke-width="4" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <h1 data-translate-key="headerH1" class="text-4xl sm:text-5xl font-extrabold text-sky-400 tracking-tight">Music Downloader</h1>
                    <p data-translate-key="headerP" class="text-slate-400 mt-3 text-lg">Paste a YouTube video or playlist link</p>
                </div>

                <form id="downloadForm" class="space-y-6">
                    <div>
                        <label for="youtube_url" data-translate-key="urlLabel" class="block text-sm font-medium text-slate-300 mb-2">YouTube Link:</label>
                        <input type="url" id="youtube_url" name="youtube_url" required
                               class="w-full px-4 py-3 bg-slate-700/70 border-2 border-slate-600 rounded-lg text-white placeholder-slate-500 focus:ring-0 focus:border-sky-500 transition duration-200 ease-in-out"
                               data-translate-placeholder="urlPlaceholder"
                               placeholder="https://www.youtube.com/watch?v=...">
                    </div>

                    <div>
                        <label for="format_choice" data-translate-key="formatLabel" class="block text-sm font-medium text-slate-300 mb-2">Select format:</label>
                        <select id="format_choice" name="format_choice"
                                class="w-full px-4 py-3 bg-slate-700/70 border-2 border-slate-600 rounded-lg text-white focus:ring-0 focus:border-sky-500 transition duration-200 ease-in-out">
                            <option value="mp3" selected data-translate-key="formatMp3">MP3 (recommended)</option>
                            <option value="wav" data-translate-key="formatWav">WAV (uncompressed, larger size)</option>
                        </select>
                    </div>

                    <button type="submit" data-translate-key="submitButton"
                            class="submit-button w-full bg-sky-500 hover:bg-sky-400 text-slate-900 font-semibold py-3.5 px-4 rounded-lg shadow-lg focus:outline-none focus:ring-4 focus:ring-sky-500/50">
                        Download Audio
                    </button>
                </form>

                <div id="statusArea" class="mt-8 text-center min-h-[60px]">
                </div>
                <div id="telegramLinkContainer" class="telegram-link-container text-center hidden">
                     <span data-translate-key="telegramSubscription">Subscribe to Telegram Channel of developers:</span> <a href="https://t.me/ytdlpdeveloper" target="_blank" rel="noopener noreferrer">@ytdlpdeveloper</a>
                </div>
            </div>
        </div>

        <div id="infoSectionContent" class="tab-content"> <div class="info-card">
                <h2 data-translate-key="infoTitle">Information</h2>
                
                <h3 data-translate-key="infoHowItWorksTitle">How This Site Works</h3>
                <p data-translate-key="infoHowItWorksPara1">This web application allows you to download audio from YouTube videos or playlists. You simply paste the YouTube URL, choose your desired audio format (MP3 or WAV), and the server-side script processes your request.</p>
                <p data-translate-key="infoHowItWorksPara2">The backend uses the powerful <code>yt-dlp</code> library to fetch video information and extract the audio stream. If MP3 or WAV format is selected, <code>ffmpeg</code> is used for audio conversion and to embed metadata.</p>
                <p data-translate-key="infoHowItWorksPara3">The downloaded audio file is temporarily stored on the server and then made available for you to download directly through your browser. After the download is served to you, the file is automatically deleted from the server to save space and ensure privacy.</p>

                <h3 data-translate-key="infoLibrariesTitle">Key Libraries & Technologies Used</h3>
                <ul>
                    <li data-translate-key="infoLibFlask"><strong>Flask:</strong> A micro web framework for Python, used to build the backend API.</li>
                    <li data-translate-key="infoLibYtdlp"><strong>yt-dlp:</strong> A command-line program to download videos from YouTube and many other sites. It's a fork of youtube-dl with additional features and fixes.</li>
                    <li data-translate-key="infoLibFFmpeg"><strong>FFmpeg:</strong> A complete, cross-platform solution to record, convert and stream audio and video. Used here for audio format conversion (to MP3/WAV) and metadata embedding.</li>
                    <li data-translate-key="infoLibTailwind"><strong>Tailwind CSS:</strong> A utility-first CSS framework for rapidly building custom user interfaces.</li>
                    <li data-translate-key="infoLibJS"><strong>JavaScript:</strong> Used for frontend interactivity, language switching, animations, and communication with the backend API.</li>
                </ul>

                <h3 data-translate-key="infoPythonCodeTitle">Python Backend Code</h3>
                <p data-translate-key="infoPythonCodePara">The core backend logic is written in Python using the Flask framework. The Python script (typically named <code>app.py</code>) handles API requests, interacts with <code>yt-dlp</code> and <code>ffmpeg</code>, manages temporary file storage, and serves the audio files. Due to the nature of this interactive environment, the full Python code is best viewed in its source file. It includes error handling, file management, and the specific options passed to the download utilities.</p>
                
                <h3 data-translate-key="infoCreatorTitle">Creator</h3>
                <p data-translate-key="infoCreatorName">This YouTube Music Downloader site was created by <strong>Suleyman Aslanov</strong>.</p>
            </div>
        </div>

        <footer class="app-footer text-center mt-10 text-slate-500 text-sm">
            <p>© <span id="year"></span> <span data-translate-key="footerCopyrightText">YouTube Music downloader. Site made by Suleyman Aslanov.</span></p>
            <p class="text-xs mt-1" data-translate-key="footerWatermark">Developed By Suleyman Aslanov</p>
        </footer>
    </div>

    <div id="infoSection">
        <button id="closeInfoButton" class="close-info-button" aria-label="Close Info">×</button>
        <div class="info-content-card">
            <h2 data-translate-key="infoTitle">Information</h2>
            
            <h3 data-translate-key="infoHowItWorksTitle">How This Site Works</h3>
            <p data-translate-key="infoHowItWorksPara1">This web application allows you to download audio from YouTube videos or playlists. You simply paste the YouTube URL, choose your desired audio format (MP3 or WAV), and the server-side script processes your request.</p>
            <p data-translate-key="infoHowItWorksPara2">The backend uses the powerful <code>yt-dlp</code> library to fetch video information and extract the audio stream. If MP3 or WAV format is selected, <code>ffmpeg</code> is used for audio conversion and to embed metadata.</p>
            <p data-translate-key="infoHowItWorksPara3">The downloaded audio file is temporarily stored on the server and then made available for you to download directly through your browser. After the download is served to you, the file is automatically deleted from the server to save space and ensure privacy.</p>

            <h3 data-translate-key="infoLibrariesTitle">Key Libraries & Technologies Used</h3>
            <ul>
                <li data-translate-key="infoLibFlask"><strong>Flask:</strong> A micro web framework for Python, used to build the backend API.</li>
                <li data-translate-key="infoLibYtdlp"><strong>yt-dlp:</strong> A command-line program to download videos from YouTube and many other sites. It's a fork of youtube-dl with additional features and fixes.</li>
                <li data-translate-key="infoLibFFmpeg"><strong>FFmpeg:</strong> A complete, cross-platform solution to record, convert and stream audio and video. Used here for audio format conversion (to MP3/WAV) and metadata embedding.</li>
                <li data-translate-key="infoLibTailwind"><strong>Tailwind CSS:</strong> A utility-first CSS framework for rapidly building custom user interfaces.</li>
                <li data-translate-key="infoLibJS"><strong>JavaScript:</strong> Used for frontend interactivity, language switching, animations, and communication with the backend API.</li>
            </ul>

            <h3 data-translate-key="infoPythonCodeTitle">Python Backend Code</h3>
            <p data-translate-key="infoPythonCodePara">The core backend logic is written in Python using the Flask framework. The Python script (typically named <code>app.py</code>) handles API requests, interacts with <code>yt-dlp</code> and <code>ffmpeg</code>, manages temporary file storage, and serves the audio files. Due to the nature of this interactive environment, the full Python code is best viewed in its source file. It includes error handling, file management, and the specific options passed to the download utilities.</p>

            <h3 data-translate-key="infoCreatorTitle">Creator</h3>
            <p data-translate-key="infoCreatorName">This YouTube Music Downloader site was created by <strong>Suleyman Aslanov</strong>.</p>
        </div>
    </div>


    <script>
        const translations = {
            en: {
                pageTitle: "YouTube Music Downloader by Suleyman Aslanov",
                metaDescriptionContent: "Easily download music and audio from YouTube videos and playlists in MP3 or WAV format. Created by Suleyman Aslanov.",
                navInfoButton: "Info",
                infoTitle: "About This Site",
                infoHowItWorksTitle: "How This Site Works",
                infoHowItWorksPara1: "This web application allows you to download audio from YouTube videos or playlists. You simply paste the YouTube URL, choose your desired audio format (MP3 or WAV), and the server-side script processes your request.",
                infoHowItWorksPara2: "The backend uses the powerful <code>yt-dlp</code> library to fetch video information and extract the audio stream. If MP3 or WAV format is selected, <code>ffmpeg</code> is used for audio conversion and to embed metadata.",
                infoHowItWorksPara3: "The downloaded audio file is temporarily stored on the server and then made available for you to download directly through your browser. After the download is served to you, the file is automatically deleted from the server to save space and ensure privacy.",
                infoLibrariesTitle: "Key Libraries & Technologies Used",
                infoLibFlask: "<strong>Flask:</strong> A micro web framework for Python, used to build the backend API.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> A command-line program to download videos from YouTube and many other sites. It's a fork of youtube-dl with additional features and fixes.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> A complete, cross-platform solution to record, convert and stream audio and video. Used here for audio format conversion (to MP3/WAV) and metadata embedding.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> A utility-first CSS framework for rapidly building custom user interfaces.",
                infoLibJS: "<strong>JavaScript:</strong> Used for frontend interactivity, language switching, animations, and communication with the backend API.",
                infoPythonCodeTitle: "Python Backend Code",
                infoPythonCodePara: "The core backend logic is written in Python using the Flask framework. The Python script (typically named <code>app.py</code>) handles API requests, interacts with <code>yt-dlp</code> and <code>ffmpeg</code>, manages temporary file storage, and serves the audio files. Due to the nature of this interactive environment, the full Python code is best viewed in its source file. It includes error handling, file management, and the specific options passed to the download utilities.",
                infoCreatorTitle: "Creator",
                infoCreatorName: "This YouTube Music Downloader site was created by <strong>Suleyman Aslanov</strong>.",
                headerH1: "Music Downloader",
                headerP: "Paste a YouTube video or playlist link",
                urlLabel: "YouTube Link:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "Select format:",
                formatMp3: "MP3 (recommended)",
                formatWav: "WAV (uncompressed, larger size)",
                submitButton: "Download Audio",
                footerCopyrightText: "YouTube Music downloader. Site made by Suleyman Aslanov.",
                footerWatermark: "Developed By Suleyman Aslanov",
                statusErrorUrl: "Please enter a URL.",
                statusProcessing: "Processing link... Please wait.",
                statusSuccessHeader: "Done! Initiating downloads:",
                statusDownloadLinkText: "Download {FORMAT}",
                statusPostDownloadHint: "If downloads didn't start, check browser pop-up settings or file save location.",
                statusErrorGeneric: "Error: {MESSAGE}",
                statusNetworkError: "A network error occurred. Please try again.",
                languageLabel: "Language:",
                telegramSubscription: "Subscribe to Telegram Channel of developers:",
                fileStatusPending: "Pending...",
                fileStatusDownloading: "Downloading...",
                fileStatusStarted: "Started! Check browser."
            },
            ru: {
                pageTitle: "Загрузчик Музыки с YouTube от Suleyman Aslanov",
                metaDescriptionContent: "Легко скачивайте музыку и аудио из видео и плейлистов YouTube в формате MP3 или WAV. Создано Suleyman Aslanov.",
                navInfoButton: "Инфо",
                infoTitle: "Об этом сайте",
                infoHowItWorksTitle: "Как работает этот сайт",
                infoHowItWorksPara1: "Это веб-приложение позволяет загружать аудио из видео или плейлистов YouTube. Вы просто вставляете URL-адрес YouTube, выбираете желаемый аудиоформат (MP3 или WAV), и серверный скрипт обрабатывает ваш запрос.",
                infoHowItWorksPara2: "Бэкенд использует мощную библиотеку <code>yt-dlp</code> для получения информации о видео и извлечения аудиопотока. Если выбран формат MP3 или WAV, для преобразования аудио и встраивания метаданных используется <code>ffmpeg</code>.",
                infoHowItWorksPara3: "Загруженный аудиофайл временно сохраняется на сервере, а затем становится доступным для прямой загрузки через ваш браузер. После того как файл передан вам, он автоматически удаляется с сервера для экономии места и обеспечения конфиденциальности.",
                infoLibrariesTitle: "Ключевые библиотеки и технологии",
                infoLibFlask: "<strong>Flask:</strong> Микрофреймворк для веб-разработки на Python, используемый для создания бэкенд API.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> Программа командной строки для загрузки видео с YouTube и многих других сайтов. Это форк youtube-dl с дополнительными функциями и исправлениями.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> Полное кроссплатформенное решение для записи, преобразования и потоковой передачи аудио и видео. Здесь используется для конвертации аудиоформатов (в MP3/WAV) и встраивания метаданных.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> Утилитарный CSS-фреймворк для быстрой разработки пользовательских интерфейсов.",
                infoLibJS: "<strong>JavaScript:</strong> Используется для интерактивности фронтенда, переключения языков, анимаций и взаимодействия с бэкенд API.",
                infoPythonCodeTitle: "Код бэкенда на Python",
                infoPythonCodePara: "Основная логика бэкенда написана на Python с использованием фреймворка Flask. Python-скрипт (обычно с именем <code>app.py</code>) обрабатывает API-запросы, взаимодействует с <code>yt-dlp</code> и <code>ffmpeg</code>, управляет временным хранением файлов и отдает аудиофайлы. В силу особенностей этой интерактивной среды, полный код Python лучше всего просматривать в его исходном файле. Он включает обработку ошибок, управление файлами и специфические опции, передаваемые утилитам загрузки.",
                infoCreatorTitle: "Создатель",
                infoCreatorName: "Этот сайт для загрузки музыки с YouTube был создан <strong>Suleyman Aslanov</strong>.",
                headerH1: "Загрузчик Музыки",
                headerP: "Вставьте ссылку на YouTube видео или плейлист",
                urlLabel: "Ссылка YouTube:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "Выберите формат:",
                formatMp3: "MP3 (рекомендуется)",
                formatWav: "WAV (без сжатия, больше размер)",
                submitButton: "Скачать Аудио",
                footerCopyrightText: "Загрузчик музыки YouTube. Сайт сделан Suleyman Aslanov.",
                footerWatermark: "Разработано Suleyman Aslanov",
                statusErrorUrl: "Пожалуйста, введите URL.",
                statusProcessing: "Обработка ссылки... Пожалуйста, подождите.",
                statusSuccessHeader: "Готово! Начинаю загрузку файла(ов):",
                statusDownloadLinkText: "Скачать {FORMAT}",
                statusPostDownloadHint: "Если загрузка не началась, проверьте настройки блокировки всплывающих окон или место сохранения файлов.",
                statusErrorGeneric: "Ошибка: {MESSAGE}",
                statusNetworkError: "Произошла сетевая ошибка. Пожалуйста, попробуйте еще раз.",
                languageLabel: "Язык:",
                telegramSubscription: "Подпишитесь на Telegram канал разработчиков:",
                fileStatusPending: "В ожидании...",
                fileStatusDownloading: "Загрузка...",
                fileStatusStarted: "Начато! Проверьте браузер."
            },
            es: {
                pageTitle: "Descargador de Música de YouTube por Suleyman Aslanov",
                metaDescriptionContent: "Descarga fácilmente música y audio de videos y listas de reproducción de YouTube en formato MP3 o WAV. Creado por Suleyman Aslanov.",
                navInfoButton: "Info",
                infoTitle: "Sobre este Sitio",
                infoHowItWorksTitle: "Cómo Funciona Este Sitio",
                infoHowItWorksPara1: "Esta aplicación web te permite descargar audio de videos o listas de reproducción de YouTube. Simplemente pegas la URL de YouTube, eliges tu formato de audio deseado (MP3 o WAV), y el script del lado del servidor procesa tu solicitud.",
                infoHowItWorksPara2: "El backend utiliza la potente biblioteca <code>yt-dlp</code> para obtener información del video y extraer el flujo de audio. Si se selecciona el formato MP3 o WAV, se utiliza <code>ffmpeg</code> para la conversión de audio e incrustación de metadatos.",
                infoHowItWorksPara3: "El archivo de audio descargado se almacena temporalmente en el servidor y luego se pone a tu disposición para que lo descargues directamente a través de tu navegador. Después de que se te entrega la descarga, el archivo se elimina automáticamente del servidor para ahorrar espacio y garantizar la privacidad.",
                infoLibrariesTitle: "Bibliotecas Clave y Tecnologías Utilizadas",
                infoLibFlask: "<strong>Flask:</strong> Un microframework web para Python, utilizado para construir la API del backend.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> Un programa de línea de comandos para descargar videos de YouTube y muchos otros sitios. Es un fork de youtube-dl con características adicionales y correcciones.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> Una solución completa y multiplataforma para grabar, convertir y transmitir audio y video. Se utiliza aquí para la conversión de formato de audio (a MP3/WAV) e incrustación de metadatos.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> Un framework CSS de utilidad primero para construir rápidamente interfaces de usuario personalizadas.",
                infoLibJS: "<strong>JavaScript:</strong> Utilizado para la interactividad del frontend, cambio de idioma, animaciones y comunicación con la API del backend.",
                infoPythonCodeTitle: "Código Backend en Python",
                infoPythonCodePara: "La lógica central del backend está escrita en Python utilizando el framework Flask. El script de Python (generalmente llamado <code>app.py</code>) maneja las solicitudes API, interactúa con <code>yt-dlp</code> y <code>ffmpeg</code>, gestiona el almacenamiento temporal de archivos y sirve los archivos de audio. Debido a la naturaleza de este entorno interactivo, el código Python completo se visualiza mejor en su archivo fuente. Incluye manejo de errores, gestión de archivos y las opciones específicas pasadas a las utilidades de descarga.",
                infoCreatorTitle: "Creador",
                infoCreatorName: "Este sitio de Descarga de Música de YouTube fue creado por <strong>Suleyman Aslanov</strong>.",
                headerH1: "Descargador de Música",
                headerP: "Pega un enlace de video o lista de reproducción de YouTube",
                urlLabel: "Enlace de YouTube:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "Seleccionar formato:",
                formatMp3: "MP3 (recomendado)",
                formatWav: "WAV (sin comprimir, tamaño mayor)",
                submitButton: "Descargar Audio",
                footerCopyrightText: "Descargador de música de YouTube. Sitio hecho por Suleyman Aslanov.",
                footerWatermark: "Desarrollado por Suleyman Aslanov",
                statusErrorUrl: "Por favor, introduce una URL.",
                statusProcessing: "Procesando enlace... Por favor, espera.",
                statusSuccessHeader: "¡Listo! Iniciando descargas:",
                statusDownloadLinkText: "Descargar {FORMAT}",
                statusPostDownloadHint: "Si las descargas no comenzaron, revisa la configuración de ventanas emergentes del navegador o la ubicación de guardado de archivos.",
                statusErrorGeneric: "Error: {MESSAGE}",
                statusNetworkError: "Ocurrió un error de red. Por favor, inténtalo de nuevo.",
                languageLabel: "Idioma:",
                telegramSubscription: "Suscríbete al canal de Telegram de los desarrolladores:",
                fileStatusPending: "Pendiente...",
                fileStatusDownloading: "Descargando...",
                fileStatusStarted: "¡Iniciado! Revisa el navegador."
            },
            az: {
                pageTitle: "Suleyman Aslanov tərəfindən YouTube Musiqi Yükləyicisi",
                metaDescriptionContent: "YouTube videolarından və pleylistlərindən musiqi və audio faylları MP3 və ya WAV formatında asanlıqla yükləyin. Suleyman Aslanov tərəfindən yaradılıb.",
                navInfoButton: "Məlumat",
                infoTitle: "Bu Sayt Haqqında",
                infoHowItWorksTitle: "Bu Sayt Necə İşləyir",
                infoHowItWorksPara1: "Bu veb tətbiqi YouTube videolarından və ya pleylistlərindən audio yükləməyə imkan verir. Siz sadəcə YouTube URL-ni daxil edir, istədiyiniz audio formatını (MP3 və ya WAV) seçirsiniz və server tərəfi skripti sorğunuzu emal edir.",
                infoHowItWorksPara2: "Backend video məlumatlarını əldə etmək və audio axınını çıxarmaq üçün güclü <code>yt-dlp</code> kitabxanasından istifadə edir. MP3 və ya WAV formatı seçildikdə, audio konvertasiyası və metadatanın daxil edilməsi üçün <code>ffmpeg</code> istifadə olunur.",
                infoHowItWorksPara3: "Yüklənmiş audio faylı müvəqqəti olaraq serverdə saxlanılır və sonra brauzeriniz vasitəsilə birbaşa yükləmək üçün sizə təqdim olunur. Fayl sizə təqdim edildikdən sonra, yerə qənaət etmək və məxfiliyi təmin etmək üçün avtomatik olaraq serverdən silinir.",
                infoLibrariesTitle: "Əsas Kitabxanalar və Texnologiyalar",
                infoLibFlask: "<strong>Flask:</strong> Backend API qurmaq üçün istifadə olunan Python üçün mikro veb freymvorku.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> YouTube və bir çox başqa saytlardan video yükləmək üçün əmr sətiri proqramı. Bu, əlavə funksiyalar və düzəlişlərlə youtube-dl-in bir forkudur.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> Audio və video yazmaq, çevirmək və yayımlamaq üçün tam, çarpaz platformalı bir həll. Burada audio formatının çevrilməsi (MP3/WAV-a) və metadatanın daxil edilməsi üçün istifadə olunur.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> Xüsusi istifadəçi interfeyslərini sürətlə qurmaq üçün utilitar CSS freymvorku.",
                infoLibJS: "<strong>JavaScript:</strong> Frontend interaktivliyi, dil dəyişdirmə, animasiyalar və backend API ilə əlaqə üçün istifadə olunur.",
                infoPythonCodeTitle: "Python Backend Kodu",
                infoPythonCodePara: "Əsas backend məntiqi Flask freymvorkundan istifadə edərək Python-da yazılmışdır. Python skripti (adətən <code>app.py</code> adlanır) API sorğularını idarə edir, <code>yt-dlp</code> və <code>ffmpeg</code> ilə qarşılıqlı əlaqədə olur, müvəqqəti fayl saxlanmasını idarə edir və audio faylları təqdim edir. Bu interaktiv mühitin təbiətinə görə, tam Python kodunu onun mənbə faylında nəzərdən keçirmək daha yaxşıdır. Bu, səhv idarəetmə, fayl idarəetmə və yükləmə utilitlərinə ötürülən xüsusi seçimləri əhatə edir.",
                infoCreatorTitle: "Yaradıcı",
                infoCreatorName: "Bu YouTube Musiqi Yükləyicisi saytı <strong>Suleyman Aslanov</strong> tərəfindən yaradılmışdır.",
                headerH1: "Musiqi Yükləyicisi",
                headerP: "YouTube video və ya pleylist keçidini daxil edin",
                urlLabel: "YouTube Keçidi:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "Format seçin:",
                formatMp3: "MP3 (tövsiyə olunur)",
                formatWav: "WAV (sıxılmamış, daha böyük ölçü)",
                submitButton: "Audio Yüklə",
                footerCopyrightText: "YouTube musiqi yükləyicisi. Sayt Suleyman Aslanov tərəfindən hazırlanıb.",
                footerWatermark: "Suleyman Aslanov tərəfindən hazırlanıb",
                statusErrorUrl: "Zəhmət olmasa, URL daxil edin.",
                statusProcessing: "Keçid emal olunur... Zəhmət olmasa, gözləyin.",
                statusSuccessHeader: "Hazırdır! Yükləmələr başlayır:",
                statusDownloadLinkText: "{FORMAT} Yüklə",
                statusPostDownloadHint: "Əgər yükləmələr başlamadısa, brauzerin pop-up parametrlərini və ya faylın yadda saxlanma yerini yoxlayın.",
                statusErrorGeneric: "Xəta: {MESSAGE}",
                statusNetworkError: "Şəbəkə xətası baş verdi. Zəhmət olmasa, yenidən cəhd edin.",
                languageLabel: "Dil:",
                telegramSubscription: "İstehsalçıların Telegram kanalına abunə olun:",
                fileStatusPending: "Gözlənilir...",
                fileStatusDownloading: "Yüklənir...",
                fileStatusStarted: "Başladı! Brauzeri yoxlayın."
            },
            tr: {
                pageTitle: "Suleyman Aslanov'dan YouTube Müzik İndirici",
                metaDescriptionContent: "YouTube videolarından ve çalma listelerinden MP3 veya WAV formatında kolayca müzik ve ses indirin. Suleyman Aslanov tarafından oluşturuldu.",
                navInfoButton: "Bilgi",
                infoTitle: "Bu Site Hakkında",
                infoHowItWorksTitle: "Bu Site Nasıl Çalışır?",
                infoHowItWorksPara1: "Bu web uygulaması, YouTube videolarından veya oynatma listelerinden ses indirmenizi sağlar. YouTube URL'sini yapıştırır, istediğiniz ses formatını (MP3 veya WAV) seçersiniz ve sunucu tarafı betiği isteğinizi işler.",
                infoHowItWorksPara2: "Arka uç, video bilgilerini almak ve ses akışını çıkarmak için güçlü <code>yt-dlp</code> kitaplığını kullanır. MP3 veya WAV formatı seçilirse, ses dönüştürme ve meta veri gömme için <code>ffmpeg</code> kullanılır.",
                infoHowItWorksPara3: "İndirilen ses dosyası geçici olarak sunucuda saklanır ve ardından tarayıcınız üzerinden doğrudan indirmeniz için kullanıma sunulur. İndirme size sunulduktan sonra, yerden tasarruf etmek ve gizliliği sağlamak için dosya sunucudan otomatik olarak silinir.",
                infoLibrariesTitle: "Kullanılan Temel Kitaplıklar ve Teknolojiler",
                infoLibFlask: "<strong>Flask:</strong> Arka uç API'sini oluşturmak için kullanılan Python için bir mikro web çerçevesi.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> YouTube ve diğer birçok siteden video indirmek için bir komut satırı programı. Ek özellikler ve düzeltmeler içeren youtube-dl'nin bir çatalıdır.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> Ses ve video kaydetmek, dönüştürmek ve yayınlamak için eksiksiz, platformlar arası bir çözüm. Burada ses formatı dönüştürme (MP3/WAV'a) ve meta veri gömme için kullanılır.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> Özel kullanıcı arayüzlerini hızla oluşturmak için bir yardımcı program öncelikli CSS çerçevesi.",
                infoLibJS: "<strong>JavaScript:</strong> Ön uç etkileşimi, dil değiştirme, animasyonlar ve arka uç API ile iletişim için kullanılır.",
                infoPythonCodeTitle: "Python Arka Uç Kodu",
                infoPythonCodePara: "Temel arka uç mantığı, Flask çerçevesi kullanılarak Python ile yazılmıştır. Python betiği (genellikle <code>app.py</code> olarak adlandırılır) API isteklerini işler, <code>yt-dlp</code> ve <code>ffmpeg</code> ile etkileşime girer, geçici dosya depolamasını yönetir ve ses dosyalarını sunar. Bu etkileşimli ortamın doğası gereği, tam Python kodu en iyi kaynak dosyasında görüntülenir. Hata yönetimi, dosya yönetimi ve indirme yardımcı programlarına iletilen belirli seçenekleri içerir.",
                infoCreatorTitle: "Oluşturan",
                infoCreatorName: "Bu YouTube Müzik İndirici sitesi <strong>Suleyman Aslanov</strong> tarafından oluşturulmuştur.",
                headerH1: "Müzik İndirici",
                headerP: "Bir YouTube video veya oynatma listesi bağlantısı yapıştırın",
                urlLabel: "YouTube Bağlantısı:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "Format seçin:",
                formatMp3: "MP3 (önerilir)",
                formatWav: "WAV (sıkıştırılmamış, daha büyük boyut)",
                submitButton: "Sesi İndir",
                footerCopyrightText: "YouTube müzik indiricisi. Site Suleyman Aslanov tarafından yapıldı.",
                footerWatermark: "Suleyman Aslanov tarafından geliştirildi",
                statusErrorUrl: "Lütfen bir URL girin.",
                statusProcessing: "Bağlantı işleniyor... Lütfen bekleyin.",
                statusSuccessHeader: "Tamamlandı! İndirmeler başlatılıyor:",
                statusDownloadLinkText: "{FORMAT} İndir",
                statusPostDownloadHint: "İndirmeler başlamadıysa, tarayıcının pop-up ayarlarını veya dosya kaydetme konumunu kontrol edin.",
                statusErrorGeneric: "Hata: {MESSAGE}",
                statusNetworkError: "Bir ağ hatası oluştu. Lütfen tekrar deneyin.",
                languageLabel: "Dil:",
                telegramSubscription: "Geliştiricilerin Telegram Kanalına Abone Olun:",
                fileStatusPending: "Beklemede...",
                fileStatusDownloading: "İndiriliyor...",
                fileStatusStarted: "Başladı! Tarayıcıyı kontrol et."
            },
            ar: {
                pageTitle: "محمل موسيقى يوتيوب بواسطة سليمان أصلانوف",
                metaDescriptionContent: "قم بتنزيل الموسيقى والصوت بسهولة من مقاطع فيديو يوتيوب وقوائم التشغيل بصيغة MP3 أو WAV. تم إنشاؤه بواسطة سليمان أصلانوف.",
                navInfoButton: "معلومات",
                infoTitle: "عن هذا الموقع",
                infoHowItWorksTitle: "كيف يعمل هذا الموقع",
                infoHowItWorksPara1: "يتيح لك تطبيق الويب هذا تنزيل الصوت من مقاطع فيديو يوتيوب أو قوائم التشغيل. ما عليك سوى لصق عنوان URL الخاص بيوتيوب، واختيار تنسيق الصوت الذي تريده (MP3 أو WAV)، ويقوم البرنامج النصي من جانب الخادم بمعالجة طلبك.",
                infoHowItWorksPara2: "يستخدم الواجهة الخلفية مكتبة <code>yt-dlp</code> القوية لجلب معلومات الفيديو واستخراج دفق الصوت. إذا تم تحديد تنسيق MP3 أو WAV، فسيتم استخدام <code>ffmpeg</code> لتحويل الصوت وتضمين البيانات الوصفية.",
                infoHowItWorksPara3: "يتم تخزين ملف الصوت الذي تم تنزيله مؤقتًا على الخادم ثم يتم إتاحته لك لتنزيله مباشرة من خلال متصفحك. بعد تقديم التنزيل إليك، يتم حذف الملف تلقائيًا من الخادم لتوفير المساحة وضمان الخصوصية.",
                infoLibrariesTitle: "المكتبات والتقنيات الرئيسية المستخدمة",
                infoLibFlask: "<strong>Flask:</strong> إطار عمل ويب صغير لبايثون، يستخدم لإنشاء واجهة برمجة تطبيقات الواجهة الخلفية.",
                infoLibYtdlp: "<strong>yt-dlp:</strong> برنامج سطر أوامر لتنزيل مقاطع الفيديو من يوتيوب والعديد من المواقع الأخرى. وهو نسخة معدلة من youtube-dl مع ميزات وإصلاحات إضافية.",
                infoLibFFmpeg: "<strong>FFmpeg:</strong> حل كامل متعدد المنصات لتسجيل وتحويل وبث الصوت والفيديو. يستخدم هنا لتحويل تنسيق الصوت (إلى MP3/WAV) وتضمين البيانات الوصفية.",
                infoLibTailwind: "<strong>Tailwind CSS:</strong> إطار عمل CSS يعتمد على الأدوات المساعدة لإنشاء واجهات مستخدم مخصصة بسرعة.",
                infoLibJS: "<strong>JavaScript:</strong> يستخدم للتفاعل في الواجهة الأمامية، وتبديل اللغة، والرسوم المتحركة، والتواصل مع واجهة برمجة تطبيقات الواجهة الخلفية.",
                infoPythonCodeTitle: "كود الواجهة الخلفية بلغة بايثون",
                infoPythonCodePara: "تتم كتابة منطق الواجهة الخلفية الأساسي بلغة بايثون باستخدام إطار عمل Flask. يتعامل برنامج بايثون النصي (عادةً ما يسمى <code>app.py</code>) مع طلبات واجهة برمجة التطبيقات، ويتفاعل مع <code>yt-dlp</code> و <code>ffmpeg</code>، ويدير تخزين الملفات المؤقت، ويقدم ملفات الصوت. نظرًا لطبيعة هذه البيئة التفاعلية، فمن الأفضل عرض كود بايثون الكامل في ملف المصدر الخاص به. وهو يتضمن معالجة الأخطاء، وإدارة الملفات، والخيارات المحددة التي تم تمريرها إلى أدوات التنزيل.",
                infoCreatorTitle: "المنشئ",
                infoCreatorName: "تم إنشاء موقع تنزيل موسيقى يوتيوب هذا بواسطة <strong>سليمان أصلانوف</strong>.",
                headerH1: "محمل الموسيقى",
                headerP: "الصق رابط فيديو يوتيوب أو قائمة تشغيل",
                urlLabel: "رابط يوتيوب:",
                urlPlaceholder: "https://www.youtube.com/watch?v=...",
                formatLabel: "اختر الصيغة:",
                formatMp3: "MP3 (موصى به)",
                formatWav: "WAV (غير مضغوط، حجم أكبر)",
                submitButton: "تحميل الصوت",
                footerCopyrightText: "محمل موسيقى يوتيوب. الموقع من صنع سليمان أصلانوف.",
                footerWatermark: "تم التطوير بواسطة سليمان أصلانوف",
                statusErrorUrl: "الرجاء إدخال عنوان URL.",
                statusProcessing: "جاري معالجة الرابط... يرجى الانتظار.",
                statusSuccessHeader: "اكتمل! جاري بدء التنزيلات:",
                statusDownloadLinkText: "تحميل {FORMAT}",
                statusPostDownloadHint: "إذا لم تبدأ التنزيلات، تحقق من إعدادات النوافذ المنبثقة بالمتصفح أو موقع حفظ الملف.",
                statusErrorGeneric: "خطأ: {MESSAGE}",
                statusNetworkError: "حدث خطأ في الشبكة. الرجاء معاودة المحاولة.",
                languageLabel: "اللغة:",
                telegramSubscription: "اشترك في قناة تيليجرام للمطورين:",
                fileStatusPending: "قيد الانتظار...",
                fileStatusDownloading: "جار التحميل...",
                fileStatusStarted: "بدأ! تحقق من المتصفح."
            }
        };

        let currentLanguage = 'ru';

        function applyTranslations(lang) {
            currentLanguage = lang;
            localStorage.setItem('preferredLanguage', lang);

            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            const pageTitleKey = translations[lang]?.pageTitle || translations.en.pageTitle;
            document.title = pageTitleKey;

            const metaDescElement = document.querySelector('meta[data-translate-meta-description]');
            if (metaDescElement) {
                const metaDescKey = metaDescElement.getAttribute('data-translate-meta-description');
                metaDescElement.content = translations[lang]?.[metaDescKey] || translations.en[metaDescKey] || '';
            }


            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                if (translations[lang] && translations[lang][key]) {
                    element.innerHTML = translations[lang][key]; 
                } else if (translations.en[key]) {
                    element.innerHTML = translations.en[key];
                }
            });
            document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                const key = element.getAttribute('data-translate-placeholder');
                 if (translations[lang] && translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                } else if (translations.en[key]) {
                    element.placeholder = translations.en[key];
                }
            });
            const langSelector = document.getElementById('languageSelector');
            if (langSelector) {
                langSelector.value = lang;
            }
        }

        function getTranslation(key, lang = currentLanguage, replacements = {}) {
            let text = (translations[lang] && translations[lang][key]) ? translations[lang][key] : (translations.en[key] || key);
            for (const placeholder in replacements) {
                text = text.replace(`{${placeholder}}`, replacements[placeholder]);
            }
            return text;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const nightSky = document.querySelector('.night-sky-bg-main');
            if (nightSky) { 
                const numberOfStars = 60; 
                for (let i = 0; i < numberOfStars; i++) {
                    let star = document.createElement('div');
                    star.className = 'star-main';
                    star.style.width = `${Math.random() * 2 + 0.5}px`; 
                    star.style.height = star.style.width;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 3}s`;
                    star.style.animationDuration = `${Math.random() * 2 + 2}s`;
                    nightSky.appendChild(star);
                }
            }

            const yearSpan = document.getElementById('year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
            
            const downloadForm = document.getElementById('downloadForm');
            const statusArea = document.getElementById('statusArea');
            const telegramLinkContainer = document.getElementById('telegramLinkContainer');
            const youtubeUrlInput = document.getElementById('youtube_url');
            const formatChoiceSelect = document.getElementById('format_choice');
            const languageSelector = document.getElementById('languageSelector');
            const infoButton = document.getElementById('infoButton');
            const infoSection = document.getElementById('infoSection');
            const closeInfoButton = document.getElementById('closeInfoButton');
            
            const downloaderContent = document.getElementById('downloaderContent');
            const infoSectionContent = document.getElementById('infoSectionContent'); 


            if (infoButton && infoSection && closeInfoButton && downloaderContent && infoSectionContent) {
                infoButton.addEventListener('click', () => {
                    downloaderContent.style.display = 'none'; 
                    infoSection.classList.add('visible'); 
                });
                closeInfoButton.addEventListener('click', () => {
                    infoSection.classList.remove('visible');
                     setTimeout(() => { 
                        downloaderContent.style.display = 'block'; 
                    }, 400); 
                });
                infoSection.addEventListener('click', (event) => {
                    if (event.target === infoSection) { 
                        infoSection.classList.remove('visible');
                        setTimeout(() => {
                           downloaderContent.style.display = 'block';
                        }, 400);
                    }
                });
            }


            if (languageSelector) {
                languageSelector.addEventListener('change', (event) => {
                    applyTranslations(event.target.value);
                });
            }

            if (downloadForm) {
                downloadForm.addEventListener('submit', async function(event) {
                    event.preventDefault();
                    const url = youtubeUrlInput.value.trim();
                    const format = formatChoiceSelect.value;

                    if (telegramLinkContainer) telegramLinkContainer.classList.add('hidden');

                    if (!url) {
                        statusArea.innerHTML = `<p class="text-red-400 p-3 bg-red-900/30 rounded-md status-message-item">${getTranslation('statusErrorUrl')}</p>`;
                        return;
                    }
                     try {
                        new URL(url);
                         if (!url.includes('youtube.com/') && !url.includes('youtu.be/') && !url.includes('m.youtube.com') && !url.includes('youtu.be')) {
                        }
                    } catch (_) {
                        statusArea.innerHTML = `<p class="text-red-400 p-3 bg-red-900/30 rounded-md status-message-item">${getTranslation('statusErrorUrl')}</p>`;
                        return;
                    }

                    statusArea.innerHTML = `
                        <div class="flex flex-col justify-center items-center space-y-2 text-sky-400 p-3 status-message-item">
                            <div class="loader ease-linear rounded-full border-4 border-t-4 border-slate-600 h-8 w-8 mb-2"></div>
                            <span>${getTranslation('statusProcessing')}</span>
                        </div>`;

                    const submitButtonEl = this.querySelector('button[type="submit"]');
                    if(submitButtonEl) {
                        submitButtonEl.disabled = true;
                        submitButtonEl.classList.add('opacity-50', 'cursor-not-allowed');
                        submitButtonEl.classList.remove('hover:bg-sky-400', 'hover:scale-105');
                    }

                    try {
                        const response = await fetch('/api/download_audio', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ url: url, format: format }),
                        });

                        const contentType = response.headers.get("content-type");
                        if (!contentType || !contentType.includes("application/json")) {
                            const errorText = await response.text();
                            throw new Error(`Server returned an unexpected response: ${response.status} ${response.statusText}. ${errorText.substring(0,100)}`);
                        }
                        const data = await response.json();

                        if (response.ok && data.status === 'success' && data.files && data.files.length > 0) {
                            let filesListHtml = data.files.map((fileInfo, index) => `
                                <li id="file-item-${index}" class="bg-slate-700/60 p-3.5 rounded-lg shadow status-message-item flex justify-between items-center" style="animation-delay: ${index * 0.12}s">
                                    <span class="text-slate-300 block truncate" title="${fileInfo.title || ''}">${fileInfo.title || 'Untitled'} (${fileInfo.filename ? fileInfo.filename.split('.').pop().toUpperCase() : format.toUpperCase()})</span>
                                    <span id="file-status-${index}" class="file-download-status">${getTranslation('fileStatusPending')}</span>
                                </li>
                            `).join('');

                            statusArea.innerHTML = `
                                <div class="status-message-item">
                                    <p class="text-green-400 mb-3 text-lg">${getTranslation('statusSuccessHeader')}</p>
                                    <ul id="downloadQueueList" class="space-y-2.5 text-left max-h-60 overflow-y-auto pr-2">${filesListHtml}</ul>
                                    <p class="text-xs text-slate-500 mt-4">${getTranslation('statusPostDownloadHint')}</p>
                                </div>
                            `;
                            if (telegramLinkContainer) telegramLinkContainer.classList.remove('hidden');


                            (async () => {
                                for (let i = 0; i < data.files.length; i++) {
                                    const fileInfo = data.files[i];
                                    const fileStatusSpan = document.getElementById(`file-status-${i}`);
                                    
                                    if (fileStatusSpan) {
                                        fileStatusSpan.textContent = getTranslation('fileStatusDownloading');
                                        fileStatusSpan.className = 'file-download-status downloading';
                                    }

                                    const link = document.createElement('a');
                                    link.href = fileInfo.download_url;
                                    link.download = fileInfo.filename || `audio_download.${fileInfo.download_url.split('.').pop()}`;
                                    document.body.appendChild(link);
                                    link.click();
                                    
                                    await new Promise(resolve => setTimeout(resolve, 250)); 
                                    document.body.removeChild(link);

                                    if (fileStatusSpan) {
                                        fileStatusSpan.textContent = getTranslation('fileStatusStarted');
                                        fileStatusSpan.className = 'file-download-status completed';
                                    }

                                    if (i < data.files.length - 1) {
                                        await new Promise(resolve => setTimeout(resolve, 750));
                                    }
                                }
                            })();

                        } else {
                            statusArea.innerHTML = `<p class="text-red-400 p-3 bg-red-900/30 rounded-md status-message-item">${getTranslation('statusErrorGeneric', currentLanguage, {MESSAGE: (data.message || 'Could not download audio.')})}</p>`;
                        }
                    } catch (error) {
                        console.error('Fetch error:', error);
                        statusArea.innerHTML = `<p class="text-red-400 p-3 bg-red-900/30 rounded-md status-message-item">${getTranslation('statusNetworkError')} (${error.message})}</p>`;
                    } finally {
                        if(submitButtonEl) {
                            submitButtonEl.disabled = false;
                            submitButtonEl.classList.remove('opacity-50', 'cursor-not-allowed');
                            submitButtonEl.classList.add('hover:bg-sky-400', 'hover:scale-105');
                        }
                    }
                });
            } else {
                console.error("Download form not found!");
            }

            const preferredLang = localStorage.getItem('preferredLanguage');
            const browserLang = navigator.language.split('-')[0];
            let initialLang = 'ru';

            if (preferredLang && translations[preferredLang]) {
                initialLang = preferredLang;
            } else if (translations[browserLang]) {
                initialLang = browserLang;
            }
            applyTranslations(initialLang);
            
            if (downloaderContent) downloaderContent.style.display = 'block';
            if (infoSectionContent) infoSectionContent.style.display = 'none';
            if (infoSection) infoSection.style.display = 'none'; 


        });
    </script>
</body>
</html>
